(this.webpackJsonpreact_frontend=this.webpackJsonpreact_frontend||[]).push([[0],{221:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),s=a(27),i=a.n(s),o=a(45),d=a.n(o),l=a(59),h=a(49),u=a(20),p=a(21),b=a(25),j=a(23),O=(a(79),{DODGE:"Dodge",ADDITION:"Addition",OVERLAY:"Overlay",GRAIN_EXTRACT:"Grain Extract",DARKEN_ONLY:"Darken Only",SCREEN:"Screen",DIVIDE:"Divide",GRAIN_MERGE:"Grain Merge",DIFFERENCE:"Difference",MULTIPLY:"Multiply",SOFT_LIGHT:"Soft Light",HARD_LIGHT:"Hard Light",LIGHTEN_ONLY:"Lighten Only",NONE:"None"}),f={BRIGHT:"Bright",BLACK_AND_WHITE:"blackAndWhite",EDGE_DETECTOR:"edgeDetector",NONE:"none"},g={_1280x1280:"1280x1280",_1024x768:"1024x768",_768x1024:"768x1024"};Object.freeze(O),Object.freeze(f),Object.freeze(g);var m=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},x=a(233),v=a(235),y=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.card,t=e.id,a=e.mode,r=e.filter,c=e.term,s=e.opacity,i=e.fadeOut,o=e.fadeIn;return Object(n.jsxs)("div",{className:"image-card card "+(i?"fade-out":"")+(o?"fade-in":""),onAnimationEnd:this.props.delCard.bind(this,t),children:[Object(n.jsx)("div",{className:"card-header",children:Object(n.jsxs)("div",{className:"form-inline",children:[Object(n.jsx)("div",{className:"col-xs-3",children:Object(n.jsx)("input",{type:"search",value:c,className:"form-control rounded",placeholder:"Search term","aria-label":"Search","aria-describedby":"search-addon",onChange:this.props.changeTerm.bind(this,t)})}),Object(n.jsx)("button",{className:"btn btn-secondary",onClick:this.props.setFadeOut.bind(this,t),children:"x"})]})}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsxs)("div",{className:"form-row form-group form-inline",children:[Object(n.jsx)(x.a,{variant:"subtitle1",children:" Mode"}),Object(n.jsx)("select",{className:"form-control selector",value:a,onChange:this.props.changeMode.bind(this,t),children:Object.values(O).map((function(e){return Object(n.jsx)("option",{value:e,children:m(e)},e)}))})]}),Object(n.jsxs)("div",{className:"form-row form-group form-inline",children:[Object(n.jsx)(x.a,{children:"Filter"}),Object(n.jsx)("select",{className:"form-control selector",value:r,onChange:this.props.changeFilter.bind(this,t),children:Object.values(f).map((function(e){return Object(n.jsx)("option",{value:e,children:m(e)},e)}))})]}),Object(n.jsxs)("div",{className:"form-row form-group form-inline",children:[Object(n.jsx)(x.a,{variant:"subtitle1",children:"Opacity"}),Object(n.jsx)(v.a,{value:s,max:1,min:0,step:.01,scale:function(e){return 100*e},onChange:this.props.changeOpacity.bind(this,t)})]})]})]})}}]),a}(r.Component),N=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{style:{display:"flex",flexFlow:"row wrap",justifyContent:"flex-start",paddingBottom:"15px",backgroundColor:"lightgray",boxShadow:"inset 5px 3px 27px 10px rgba(0,0,0,0.25)",margin:"15px",borderRadius:"10px",minHeight:"315px"},children:[this.props.cards.map((function(t){return Object(n.jsx)(y,{card:t,changeMode:e.props.changeMode,changeFilter:e.props.changeFilter,changeOpacity:e.props.changeOpacity,changeTerm:e.props.changeTerm,setFadeOut:e.props.setFadeOut,delCard:e.props.delCard},t.id)})),Object(n.jsx)("button",{className:"btn btn-dark",onClick:this.props.newCard,children:"+"})]})}}]),a}(r.Component),C=a(67),E=(a(83),a(64)),w=a.n(E),I=function(e){var t=e.settings,a=e.changeSize,c=e.generateImage,s=Object(r.useState)(!1),i=Object(C.a)(s,2),o=i[0],d=i[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{width:"200px",height:"230px",float:"left",marginLeft:"20px",display:"flex",flexFlow:"wrap column",justifyContent:"space-evenly"},children:[Object(n.jsx)("select",{className:"form-control selector",value:t.width+"x"+t.height,onChange:a,style:{width:"200px",marginLeft:"8px"},children:Object.values(g).map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))}),Object(n.jsx)("button",{className:"btn btn-secondary",style:{width:"auto"},children:"Random Terms"}),Object(n.jsx)("button",{className:"btn btn-secondary",style:{width:"auto"},children:"Save Preset"}),Object(n.jsx)("button",{className:"btn btn-secondary",style:{width:"auto"},onClick:function(){d(!0)},children:"Edit / Save"}),Object(n.jsx)("button",{className:"btn btn-primary",onClick:c,style:{width:"auto",marginLeft:"8px"},children:"GENERATE"})]}),Object(n.jsx)("div",{className:"image-container",style:{margin:"15px",marginRight:"50px",width:t.width/2+"px",height:t.height/2+"px",display:"inline-block",float:"right"},children:Object(n.jsx)("img",{src:"data:image/png;base64,"+t.b64src})}),Object(n.jsx)(w.a,{show:o,src:"data:image/png;base64,"+t.b64src,onClose:function(){d(!1)}})]})},T=a(236),S=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cards:[{id:1,term:"Sunset",mode:O.MULTIPLY,filter:f.EDGE_DETECTOR,opacity:1,fadeOut:!1,fadeIn:!1},{id:2,term:"Snow",mode:O.NONE,filter:f.BLACK_AND_WHITE,opacity:.15,fadeOut:!1,fadeIn:!1}],settings:{width:1280,height:1280,b64src:""}},e.changeMode=function(t,a){e.setState({cards:e.state.cards.map((function(e){return e.id===t&&(e.mode=a.target.value),e}))}),console.log(e.state)},e.changeFilter=function(t,a){e.setState({cards:e.state.cards.map((function(e){return e.id===t&&(e.filter=a.target.value),e}))}),console.log(e.state)},e.changeTerm=function(t,a){e.setState({cards:e.state.cards.map((function(e){return e.id===t&&(e.term=a.target.value),e}))}),console.log(e.state)},e.changeOpacity=function(t,a,n){e.setState({cards:e.state.cards.map((function(e){return e.id===t&&(e.opacity=n),e}))}),console.log(e.state)},e.delCard=function(t){console.log(t+" deleted"),e.setState({cards:Object(h.a)(e.state.cards.filter((function(e){return e.id!==t||!e.fadeOut})))}),console.log(e.state)},e.newCard=function(){var t={id:Object(T.a)(),term:"",mode:O.NONE,filter:O.NONE,opacity:1,fadeOut:!1,fadeIn:!0};e.setState({cards:[].concat(Object(h.a)(e.state.cards),[t])})},e.generateImage=Object(l.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/generate",{method:"POST",headers:{"Content-type":"applications/json"},body:JSON.stringify(e.state)});case 2:return a=t.sent,t.next=5,a.text();case 5:n=t.sent,e.setState((function(e){return e.settings.b64src=n,e}));case 7:case"end":return t.stop()}}),t)}))),e.setFadeOut=function(t){e.setState({cards:e.state.cards.map((function(e){return e.id===t&&(e.fadeIn=!1,e.fadeOut=!0),e}))})},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h1",{id:"site-title",children:"Image Masher"}),Object(n.jsx)(N,{cards:this.state.cards,changeMode:this.changeMode,changeOpacity:this.changeOpacity,changeFilter:this.changeFilter,changeTerm:this.changeTerm,delCard:this.delCard,newCard:this.newCard,setFadeOut:this.setFadeOut}),Object(n.jsx)(I,{settings:this.state.settings,generateImage:this.generateImage})]})}}]),a}(r.Component);a(220);i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))},79:function(e,t,a){}},[[221,1,2]]]);
//# sourceMappingURL=main.e883a02a.chunk.js.map